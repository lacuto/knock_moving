.fade-in {
  animation-name: fadeIn;
  animation-duration: var(--fade-in-duration, 1.2s);
  animation-timing-function: ease;
  animation-fill-mode: forwards;
}

.fade-out {
  animation-name: fadeOut;
  animation-duration: var(--fade-out-duration, 1.2s);
  animation-timing-function: ease;
  animation-fill-mode: forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}


/* micro：ポップ版（動かす対象だけに適用） */
.micro .micro-move {
  display: inline-block;
  will-change: transform, opacity;

  /* 文字ごとの個体差（JSが入れる） */
  --mx: 6px;      /* x移動 */
  --my: -6px;     /* y移動 */
  --mr: 6deg;     /* 回転 */
  --ms: 1.06;     /* スケール */
  --md: 1400ms;   /* 周期 */

  animation: microPop var(--md) cubic-bezier(.2,.9,.2,1) infinite;
  animation-delay: var(--mDelay, 0ms);
}

@keyframes microPop {
  0%   { transform: translate(0,0) rotate(0deg) scale(1); }
  18%  { transform: translate(calc(var(--mx) * 1.2), calc(var(--my) * 1.2)) rotate(calc(var(--mr) * 1.2)) scale(calc(var(--ms) * 1.06)); }
  38%  { transform: translate(calc(var(--mx) * -0.35), calc(var(--my) * -0.35)) rotate(calc(var(--mr) * -0.35)) scale(calc(var(--ms) * 0.985)); }
  60%  { transform: translate(calc(var(--mx) * 0.55), calc(var(--my) * 0.55)) rotate(calc(var(--mr) * 0.55)) scale(var(--ms)); }
  100% { transform: translate(0,0) rotate(0deg) scale(1); }
}


.touch-char {
  display: inline-block;
  transition: transform 0.6s ease, opacity 0.6s ease;
}

.touch.react .touch-char {
  transform: translateY(-6px);
  opacity: 0.4;
}

/* pulse（呼吸） */
.fade-pulse {
  animation-name: fadePulse;
  animation-duration: var(--fade-pulse-duration, 1.4s);
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
}

@keyframes fadePulse {
  0%   { opacity: var(--fade-pulse-min, 0.55); transform: translateY(0); }
  50%  { opacity: var(--fade-pulse-max, 1);    transform: translateY(0); }
  100% { opacity: var(--fade-pulse-min, 0.55); transform: translateY(0); }
}

/* blink（点滅）
  - JS側で --blink-duration を上書き可能
  - 0.5sおき（ON 0.5s / OFF 0.5s）なら duration = 1000ms
*/
.blink {
  animation-name: blink;
  animation-duration: var(--blink-duration, 1000ms);
  animation-timing-function: steps(1, end);
  animation-iteration-count: infinite;
}

@keyframes blink {
  0%   { opacity: 1; }
  50%  { opacity: 0; }
  100% { opacity: 1; }
}
